{% load static %}
<!-- NAVBAR -->
{% include 'navbar.html' %}
<!-- NAVBAR -->
<style>
  h2 {text-align: center;}
  p {text-align: center;}
  .text-center {
  text-align: center;
  }
  body{
  color:black;
  }
  
  .modal-body{
  text-align:center;
  }
  
#mid{
flex-direction: column;
flex-wrap: nowrap;
align-items: normal;
align-content: normal;
justify-content: normal;
}





#cen{
font-weight:bold;
}

  .footer{
   position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  
  }




.shorten-text {
  
  max-width:100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.shorten-text:hover {
  overflow: visible;
  white-space: normal;
  text-overflow: unset;
}


.your-class:hover {
  overflow: visible;
  white-space: normal;
  text-overflow: unset;
}



  .dropdown {
  position: relative;
  display: inline-block;
  }
  .btn {
  white-space:normal !important;
  word-wrap: break-word; 
  }
  .dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
   left: -50px !important;
  right: auto !important;
  text-align: center !important;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 1;
  }
  .dropdown:hover .dropdown-content {
  display: block;
  }
  @media only screen and (max-width: 730px) {
  
#row1>* {

    width: 33%;
    
    }



  #y{
  display: none;
  }
  
     .footer{
   position: static;
  left: 0;
  bottom: 0;
  width: 100%;
  margin-top:300px !important;
  
  }


  #q{
  display: none;
  }
  #c{
  display: block;
  margin-top:-10%;
  }
  .mobile_device_320px {
  display: none;
  }
  #l{
  display: none;
  }
  #e{
  display: block;
  }
  .btn{
  text-align: center;
  }
  #img1{
  display:none !important;
  }
  
  #img2{
    display: block;
  margin-left: auto;
  margin-right: auto;
  width: 100% !important;
  }
  }
</style>
<body>


  <!--Main grid-->
  <div class="container my-4">
    <div class="row">
      <div class="col" id="test_detail_card">
        <!--Left grid-->
        <div class="card text-center">
          <div class="card-body">
            <div class="">
              <h5>Dear {{patient_name}}, <br>Here's yours Personalized Health Package</h5>
              <button type="button" class="btn btn-dark ">{{x}} Tests included </button>
            </div>
            <br>
            <div class="dropdown" >
              <button class="btn btn-outline-danger" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Expand your tests <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-magic" viewBox="0 0 16 16">
  <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0v1.829Zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707L14 2.707ZM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707L7.293 4Zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1h1.829Zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1h1.829ZM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707L13.293 10ZM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0v1.829Zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0L8.354 9.06Z"/>
</svg>
              </button>
              <div class="dropdown-content" id="" style="width: 280px;" aria-labelledby="dropdownMenuButton">
                <div style="text-align: center; font-weight:bold; display: inline-block;"> Tests</div>
                {% for i in list %}
                <a class="dropdown-item" href="#" onclick="function copy_link(){start_model(`{{i }}`,`{{i.test_description}}`,`{{i.test_reason}}`,`{{i.test_link}}`)};copy_link()"
                  type="submit"  data-test="{{i}}" >{{i}} <span style="float: right; color:red; font-weight: bold; font-family:MV Boli" ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
</svg></span>
                </a>
                {% endfor %}
              </div>
            </div>
          
              <button  class="btn btn-outline-danger" type="button" data-toggle="modal" data-target="#exampleModal1">Why these tests <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
              </svg></button>
         </div>
 <br>
            <h5>Congrats, you are eligible for a discount!!</h5>
            <h5> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-piggy-bank" viewBox="0 0 16 16">
  <path d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z"/>
  <path fill-rule="evenodd" d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z"/>
</svg> You just saved <span style="font-weight: bold"> Rs.{{dprice}} </span></h5>
            <br>
           
          </div>
        </div>
        <!--Left grid-->
        <!-- Button trigger modal -->


      <div class="col" id="discover_image">
        <div class="container my-4">
          <div class="carousel-item active">


            <img src="{% static 'resultanimation.gif' %}" id="img2" style="  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;border-radius:2px;border-color:red;box-shadow: 0 0 10px red;" width=200 height=250  alt="dfgdfgdfg">
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--main grid ending-->
  
  <!-- feedback -->
 <div class="container">
 
  <div class="card"><br>
  <h3 style="text-align:center;"><button class="btn btn-dark" style="padding:10px;">Please provide feedback</button></h3>
   <div class="container my-4 ">
  <form action="result" method="POST">
  {% csrf_token %}
  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">1. Are all the buttons clearly visible to you?</label>
   <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer1" id="inlineRadio1" value="Yes">
  <label class="form-check-label" for="inlineRadio1">Yes</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer1" id="inlineRadio2" value="No">
  <label class="form-check-label" for="inlineRadio2">No</label>
</div>
  </div>
  
  <div class="mb-3">
    <label for="exampleInputEmail2" class="form-label">2.Were you able to find the health goal you were looking for?</label>
   <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer2" id="inlineRadio3" value="Yes">
  <label class="form-check-label" for="inlineRadio3">Yes</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer2" id="inlineRadio4" value="No">
  <label class="form-check-label" for="inlineRadio4">No</label>
</div>
  </div>
  
  
    <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">3.Was the number of tests suggested adequate?</label>
   <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer3" id="inlineRadio5" value="Too Less">
  <label class="form-check-label" for="inlineRadio5">Too less</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer3" id="inlineRadio6" value="Adequate">
  <label class="form-check-label" for="inlineRadio6">Adequate</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer3" id="inlineRadio7" value="Too many">
  <label class="form-check-label" for="inlineRadio7">Too many</label>
</div>
  </div>
  
  
      <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">4.Was the number of questions leading to your tests results adequate?</label>
   <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer4" id="inlineRadio8" value="Too less">
  <label class="form-check-label" for="inlineRadio8">Too less</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer4" id="inlineRadio9" value="Adequate">
  <label class="form-check-label" for="inlineRadio9">Adequate</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer4" id="inlineRadio10" value="Too many">
  <label class="form-check-label" for="inlineRadio10">Too many</label>
</div>
  </div>
  
  
  
  
        <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">5.How will you rate the experience with the website?</label>
   <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer5" id="inlineRadio11" value="1">
  <label class="form-check-label" for="inlineRadio11">1</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer5" id="inlineRadio12" value="2">
  <label class="form-check-label" for="inlineRadio12">2</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer5" id="inlineRadio13" value="3">
  <label class="form-check-label" for="inlineRadio13">3</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer5" id="inlineRadio14" value="4">
  <label class="form-check-label" for="inlineRadio14">4</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="answer5" id="inlineRadio15" value="5">
  <label class="form-check-label" for="inlineRadio15">5</label>
</div>
  </div>
  
  
  
  <label for="comments" class="form-label">What did you dislike?</label>
<input type="text" placeholder="Type here" id="comments" name="comments" class="form-control" aria-describedby="passwordHelpBlock" required><br>
  
  
  

  <button type="submit" value="submit" name="submit"  class="btn btn-primary">Submit</button>
</form>
</div>
</div>
</div>

<!-- feedback -->
  <!-- Modal -->
  <div class="modal" id="testDetails" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="color:black;border-color:red;box-shadow: 0 0 15px red;">
        <div class="modal-header" style="justify-content:center; font-weight:bold;">
          <h5 class="modal-title" style="justify-content:center; font-weight:bold;" id="exampleModalLabel">
          <span id="test_title"></span> 
          <h5>
        
        </div>
        <br>
        <p><strong> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-medical-fill" viewBox="0 0 16 16">
  <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-3 2v.634l.549-.317a.5.5 0 1 1 .5.866L7 7l.549.317a.5.5 0 1 1-.5.866L6.5 7.866V8.5a.5.5 0 0 1-1 0v-.634l-.549.317a.5.5 0 1 1-.5-.866L5 7l-.549-.317a.5.5 0 0 1 .5-.866l.549.317V5.5a.5.5 0 1 1 1 0zm-2 4.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm0 2h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"/>
</svg> Why is this test recommended to you?</strong></p>
   <div class="modal-body" id="test_detail">
        </div>
        
        <div class="modal-body" id="cen">
       <span id="test_title"></span> 
        </div>
        
         <div class="modal-body" id="test_text">
          <a href="" id="test_link_website" target="_blank"></a>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="color:black;border-color:red;box-shadow: 0 0 15px red;">
        <div class="modal-header" id="mid">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            <!--main grid ending-->
          <div class="container center">
  <div class="row">
    <div class="col">
      <button class="btn btn-dark" style="width:100%;">Based on</button>
    </div>
    <div class="col">
      <button class="btn btn-dark" style="width:100%;">Evidences</button>
    </div>
  </div>
</div>
            <!--main grid ending-->
          
          </h1>
          
        </div>
        <div class="modal-body" >
 
          <div class="container center">
      
            <div class="row">
              <div class="col">
                {% for i in key %}
                <button type="button" class="btn btn-danger my-1" style="width:100%;"><span style="font-size:13px;">{{i}}</span></button><br>
                {% endfor %}
              </div>

              <div class="col">
                
              {% for j in value %}
              <a href="{{j.1}}" target="_blank"  style="text-decoration: none; width:100%;" type="button" class="btn btn-outline-dark my-1">
              <span style="font-size:13px;">{{ j.0 }}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="20" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
                <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
              </svg></span></a>
              
              <br>
              {% endfor %}
              
              </div>
            </div>
            
      </div>


  
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>
{% include "footer.html" %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
  <script type="text/javascript">

    let discover_image=document.getElementById("discover_image");
    let test_detail_card=document.getElementById("test_detail_card");
    let test_title=document.getElementById("test_title");
    let test_detail=document.getElementById("test_detail")
    
    let test_link_website=document.getElementById("test_link_website")
    test_detail_card.style.display="none"
    
    setTimeout(function() {
    discover_image.style.display="none"
    test_detail_card.style.display=null

    }, 7000);
    
    
    function start_model(test_name,test_details,test_reason,test_link) {
      console.log(test_name,test_reason,test_link)
    
    var modalToggle = document.getElementById('testDetails');
    
    
    test_title.textContent=test_name
    test_detail.textContent=test_details
    
    test_link_website.setAttribute("href",test_link)
    
    var myModal = new bootstrap.Modal(document.getElementById('testDetails'))
    myModal.show()
    
    
    
    }


  </script>
</body>
</html>

